<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Agent Lee Digital Business Card - The Black Book Milwaukee</title>

  <!-- SEO & OpenGraph -->
  <meta name="description" content="Agent Lee - The Black Book Milwaukee - Digital Business Card" />
  <meta name="keywords" content="Agent Lee, Black Book Milwaukee, Advertising, Graphic Design, Web Design" />
  <meta name="author" content="Agent Lee" />
  <meta property="og:title" content="Agent Lee - The Black Book Milwaukee" />
  <meta property="og:description" content="Connect with Agent Lee from The Black Book Milwaukee" />
  <meta property="og:type" content="profile" />
  <meta property="og:url" content="https://blackbookmilwaukee.com/agentlee" />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Syne:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    :root {
      --primary-color: #0a0a23;
      --secondary-color: #1e293b;
      --accent-color: #FFD700;
      --text-primary: #FFFFFF;
      --text-secondary: rgba(255, 255, 255, 0.8);
      --text-muted: rgba(255, 255, 255, 0.6);
      --glass-border: rgba(255, 255, 255, 0.15);
      --neon-glow: 0 0 10px rgba(255, 215, 0, 0.7), 0 0 20px rgba(255, 215, 0, 0.4);
      --red-button: #e11d48;
      --red-button-hover: #f43f5e;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: var(--primary-color);
      font-family: 'Inter', sans-serif;
      color: var(--text-primary);
      min-height: 100vh;
      overflow-x: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }
    
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('j72g0tshfp.png') no-repeat center center;
      background-size: cover;
      opacity: 0.85;
      z-index: -2;
    }

    #container {
      display: flex;
      gap: 30px;
      max-width: 1200px;
      width: 95%;
      padding: 20px;
      margin: 10px auto 180px auto;
      position: relative;
      animation: fadeIn 1.2s ease-out forwards;
      justify-content: center;
    }

    /* Business Card Image */
    .card-container {
      width: 450px;
      height: 600px;
      position: relative;
      perspective: 1000px;
      cursor: pointer;
      flex-shrink: 0;
    }

    #business-card-img {
      width: 100%;
      height: 100%;
      border-radius: 20px;
      object-fit: contain;
      position: relative;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.7);
      transition: transform 0.5s ease, box-shadow 0.5s ease;
      transform-style: preserve-3d;
    }

    .card-shine {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-radius: 20px;
      background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0) 0%,
        rgba(255, 255, 255, 0.1) 25%, 
        rgba(255, 255, 255, 0.1) 50%,
        rgba(255, 255, 255, 0) 100%);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.5s ease;
    }

    .card-container:hover #business-card-img {
      transform: rotateY(10deg) rotateX(5deg);
      box-shadow: 
        -15px 20px 30px -10px rgba(0, 0, 0, 0.8),
        0 0 20px 0px var(--accent-color);
    }

    .card-container:hover .card-shine {
      opacity: 1;
      animation: cardShine 2s ease-in-out infinite alternate;
    }

    @keyframes cardShine {
      from { opacity: 0.3; transform: translateX(-100%); }
      to { opacity: 0; transform: translateX(100%); }
    }

    /* Agent Lee card container */
    #agent-card {
      width: 460px;
      height: 600px;
      background: rgba(30, 41, 59, 0.8);
      border-radius: 20px;
      border: 1px solid var(--glass-border);
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      position: relative;
      user-select: none;
      transition: box-shadow 0.3s ease, transform 0.3s ease;
      transform: translateY(20px);
    }

    #agent-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to bottom, 
        rgba(255, 215, 0, 0.1) 0%,
        transparent 15%);
      pointer-events: none;
      z-index: 0;
    }

    #agent-card.dragging {
      cursor: grabbing;
      box-shadow: 0 15px 50px rgba(0, 0, 0, 0.6);
    }

    /* Header always visible at top */
    .card-header {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 20px;
      background-color: rgba(15, 23, 42, 0.9);
      cursor: grab;
      flex-shrink: 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      position: relative;
      z-index: 10;
    }

    .card-header::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 4px;
      background-color: var(--accent-color);
      box-shadow: var(--neon-glow);
    }

    .avatar-img {
      width: 52px;
      height: 52px;
      border-radius: 14px;
      border: 2px solid var(--accent-color);
      object-fit: cover;
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
    }

    .agent-details h3 {
      color: var(--accent-color);
      margin: 0 0 5px 0;
      font-size: 20px;
      font-family: 'Syne', sans-serif;
      font-weight: 600;
    }

    .agent-details p {
      color: var(--text-secondary);
      margin: 0;
      font-size: 14px;
      display: flex;
      align-items: center;
    }

    .status-indicator {
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background-color: #10b981;
      margin-right: 8px;
      position: relative;
    }

    .status-indicator::after {
      content: '';
      position: absolute;
      top: -4px;
      left: -4px;
      right: -4px;
      bottom: -4px;
      border-radius: 50%;
      background-color: rgba(16, 185, 129, 0.3);
      animation: pulse 2s infinite;
    }

    /* Questions container scrollable */
    #questions {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      padding: 20px;
      overflow-y: auto;
      flex-grow: 1;
      background: rgba(20, 30, 49, 0.6);
      position: relative;
    }

    #questions::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 30px;
      background: linear-gradient(to bottom, 
        rgba(20, 30, 49, 0.9) 0%,
        rgba(20, 30, 49, 0) 100%);
      pointer-events: none;
      z-index: 5;
    }

    .question-btn {
      background: rgba(30, 41, 59, 0.8);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 12px;
      color: white;
      font-size: 14px;
      padding: 14px 12px;
      cursor: pointer;
      transition: all 0.25s ease;
      user-select: none;
      text-align: left;
      display: flex;
      align-items: center;
      gap: 10px;
      position: relative;
      overflow: hidden;
    }

    .question-btn i {
      color: var(--accent-color);
      font-size: 16px;
      flex-shrink: 0;
    }

    .question-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(120deg, 
        rgba(255, 255, 255, 0) 0%, 
        rgba(255, 255, 255, 0.1) 50%, 
        rgba(255, 255, 255, 0) 100%);
      transform: translateX(-100%);
      transition: transform 0.7s ease;
    }

    .question-btn:hover {
      background: rgba(44, 55, 75, 0.9);
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      border-color: rgba(255, 215, 0, 0.3);
    }

    .question-btn:hover::before {
      transform: translateX(100%);
    }

    .question-btn.active {
      background: linear-gradient(45deg, rgba(255, 215, 0, 0.2), rgba(30, 41, 59, 0.9));
      border-color: var(--accent-color);
    }

    /* Bottom control buttons */
    .control-row {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      padding: 15px;
      background-color: rgba(15, 23, 42, 0.9);
      border-top: 1px solid rgba(255, 255, 255, 0.05);
      flex-shrink: 0;
    }

    button {
      padding: 12px 8px;
      border: none;
      border-radius: 11px;
      color: white;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.25s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      position: relative;
      overflow: hidden;
      flex: 1 1 120px;
      min-width: 90px;
    }

    button i {
      font-size: 15px;
    }

    button::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(120deg, 
        rgba(255, 255, 255, 0) 0%, 
        rgba(255, 255, 255, 0.2) 50%, 
        rgba(255, 255, 255, 0) 100%);
      transform: translateX(-100%);
      transition: transform 0.5s ease;
    }

    button:hover::after {
      transform: translateX(100%);
    }

    button:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .stop-btn   { background: #dc2626; }
    .finish-btn { background: #ca8a04; }
    .email-btn  { background: #4f46e5; }
    .phone-btn  { background: #0d9488; }
    .text-btn   { background: #d97706; }
    .save-btn   { background: #059669; }
    .nearby-btn { background: #8b5cf6; }
    .nfc-btn    { background: #0369a1; }

    button:disabled { opacity: 0.5; cursor: not-allowed; }

    /* Loading Animation */
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--primary-color);
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      z-index: 1000;
    }

    .loading-spinner {
      width: 120px;
      height: 120px;
      position: relative;
    }

    .loading-spinner::before,
    .loading-spinner::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 4px solid transparent;
    }

    .loading-spinner::before {
      border-top-color: var(--accent-color);
      animation: spin 1.5s linear infinite;
    }

    .loading-spinner::after {
      border-left-color: var(--accent-color);
      animation: spin 1s linear infinite;
    }

    .loading-text {
      margin-top: 30px;
      font-family: 'Syne', sans-serif;
      font-size: 18px;
      color: var(--accent-color);
      letter-spacing: 2px;
    }

    /* Background particles */
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      pointer-events: none;
      background-color: rgba(10, 10, 35, 0.4);
    }
    
    /* Sound Wave Effects */
    .sound-waves {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
      overflow: hidden;
    }
    
    .wave {
      position: absolute;
      border-radius: 50%;
      background: rgba(132, 204, 255, 0.4);
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 
        0 0 25px rgba(147, 197, 253, 0.5),
        0 0 15px rgba(255, 255, 255, 0.3) inset;
      opacity: 0;
      transform: scale(0);
      animation: pulse-wave 3s infinite linear;
    }
    
    .wave-1, .wave-3, .wave-5, .wave-7 {
      left: 18%;
      top: 48%;
      width: 80px;
      height: 80px;
    }
    
    .wave-2, .wave-4, .wave-6, .wave-8 {
      right: 18%;
      top: 48%;
      width: 80px;
      height: 80px;
    }
    
    .wave-1 { animation-delay: 0s; }
    .wave-2 { animation-delay: 0.5s; }
    .wave-3 { animation-delay: 1s; }
    .wave-4 { animation-delay: 1.5s; }
    .wave-5 { animation-delay: 2s; }
    .wave-6 { animation-delay: 2.5s; }
    .wave-7 { animation-delay: 1.2s; }
    .wave-8 { animation-delay: 0.2s; }
    
    @keyframes pulse-wave {
      0% {
        transform: scale(0);
        opacity: 0.9;
        background: rgba(132, 204, 255, 0.7);
      }
      50% {
        opacity: 0.5;
        background: rgba(132, 204, 255, 0.4);
      }
      100% {
        transform: scale(5);
        opacity: 0;
        background: rgba(132, 204, 255, 0.1);
      }
    }

    .particle {
      position: absolute;
      width: 2px;
      height: 2px;
      background-color: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      animation: float 20s linear infinite;
    }

    /* Animations */
    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    @keyframes float {
      0% { transform: translateY(0) translateX(0); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateY(-100vh) translateX(100px); opacity: 0; }
    }

    @keyframes pulse {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.5); opacity: 0.5; }
      100% { transform: scale(1); opacity: 1; }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes presentEffect {
      0% { transform: translateX(0) scale(1); }
      8% { transform: translateX(-40px) scale(1.03); }
      16% { transform: translateX(40px) scale(1.06); }
      24% { transform: translateX(-40px) scale(1.09); }
      32% { transform: translateX(0) scale(1.12); }
      40% { transform: translateY(-10px) scale(1.12); }
      60% { transform: translateY(-10px) scale(1.12); }
      68% { transform: translateX(-40px) scale(1.09); }
      76% { transform: translateX(40px) scale(1.06); }
      84% { transform: translateX(-40px) scale(1.03); }
      100% { transform: translateX(0) scale(1); }
    }

    /* Footer with Logo and Contact Button */
    .footer-container {
      position: fixed;
      bottom: 40px;
      left: 0;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 25px;
      z-index: 100;
    }
    
    .logo-container {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      overflow: hidden;
      border: 3px solid var(--accent-color);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .logo-img {
      width: 90%;
      height: 90%;
      object-fit: contain;
    }
    
    .contact-button {
      background: var(--red-button);
      color: white;
      font-size: 1.2rem;
      font-weight: 700;
      padding: 15px 30px;
      border-radius: 50px;
      text-decoration: none;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      border: 2px solid rgba(255, 255, 255, 0.2);
      letter-spacing: 0.5px;
      transform: translateY(0);
    }
    
    .contact-button:hover {
      background: var(--red-button-hover);
      transform: translateY(-3px);
      box-shadow: 0 6px 25px rgba(0, 0, 0, 0.4);
    }
    
    .contact-button i {
      font-size: 1.3rem;
    }
    
    /* Responsive styles */
    @media (max-width: 992px) {
      #container {
        flex-direction: column;
        align-items: center;
      }
      
      .card-container {
        width: 100%;
        max-width: 450px;
        height: auto;
        aspect-ratio: 4/5;
      }
      
      #agent-card {
        width: 100%;
        max-width: 460px;
        height: 550px;
        transform: translateY(0);
      }
      
      .contact-button {
        font-size: 1rem;
        padding: 12px 25px;
      }
      
      .footer-container {
        flex-direction: column;
        gap: 15px;
      }
      
      .logo-container {
        width: 110px;
        height: 110px;
      }
    }

    @media (max-width: 576px) {
      #questions {
        grid-template-columns: 1fr;
      }
      
      .control-row {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .agent-details h3 {
        font-size: 18px;
      }
      
      .avatar-img {
        width: 46px;
        height: 46px;
      }
      
      .card-header {
        padding: 15px;
      }
    }
  </style>
</head>
<body>
  <!-- Loading Animation -->
  <div class="loading-overlay" id="loading-overlay">
    <div class="loading-spinner"></div>
    <div class="loading-text">INITIALIZING AGENT LEE</div>
  </div>
  
  <!-- Background particles -->
  <div class="particles" id="particles"></div>
  
  <!-- Sound wave animation elements -->
  <div class="sound-waves">
    <div class="wave wave-1"></div>
    <div class="wave wave-2"></div>
    <div class="wave wave-3"></div>
    <div class="wave wave-4"></div>
    <div class="wave wave-5"></div>
    <div class="wave wave-6"></div>
    <div class="wave wave-7"></div>
    <div class="wave wave-8"></div>
  </div>

  <div id="container" role="region" aria-live="polite" aria-label="Business card with Agent Lee AI Assistant">
    <!-- Business card image with 3D effect -->
    <div class="card-container">
      <img id="business-card-img" src="90qk3uw7cw.png" alt="The Black Book Milwaukee Digital Business Card">
      <div class="card-shine"></div>
    </div>

    <!-- Agent Lee Assistant card floating on top -->
    <div id="agent-card" tabindex="0" aria-label="Agent Lee AI Assistant" role="region" aria-live="polite">
      <div class="card-header" id="drag-handle" aria-label="Agent Lee header, draggable">
        <img src="90qk3uw7cw.png" alt="Agent Lee Avatar" class="avatar-img">
        <div class="agent-details">
          <h3>Agent Lee</h3>
          <p><span class="status-indicator"></span>AI Guide Active</p>
        </div>
      </div>

      <div id="questions" role="list" aria-label="Frequently asked questions">
        <button class="question-btn" role="listitem" data-question="What services does The Black Book Milwaukee provide?">
          <i class="fas fa-briefcase"></i> What services do you provide?
        </button>
        <button class="question-btn" role="listitem" data-question="How can your services benefit my local business?">
          <i class="fas fa-chart-line"></i> How can you help my business?
        </button>
        <button class="question-btn" role="listitem" data-question="What is the typical turnaround time for a project?">
          <i class="fas fa-clock"></i> What's your turnaround time?
        </button>
        <button class="question-btn" role="listitem" data-question="How much do your services cost?">
          <i class="fas fa-dollar-sign"></i> How much do services cost?
        </button>
        <button class="question-btn" role="listitem" data-question="Do you offer ongoing support after project completion?">
          <i class="fas fa-headset"></i> Do you offer ongoing support?
        </button>
        <button class="question-btn" role="listitem" data-question="Can I see examples of your previous work?">
          <i class="fas fa-portfolio"></i> Can I see your portfolio?
        </button>
        <button class="question-btn" role="listitem" data-question="How do NFC-enabled flyers and digital business cards work?">
          <i class="fas fa-wifi"></i> How do NFC cards work?
        </button>
        <button class="question-btn" role="listitem" data-question="Is my business too small to benefit from your services?">
          <i class="fas fa-store"></i> Is my business too small?
        </button>
        <button class="question-btn" role="listitem" data-question="How do I get started with The Black Book Milwaukee?">
          <i class="fas fa-play-circle"></i> How do I get started?
        </button>
        <button class="question-btn" role="listitem" data-question="What sets The Black Book Milwaukee apart from other agencies?">
          <i class="fas fa-star"></i> What makes you different?
        </button>
      </div>

      <div class="control-row" aria-label="Agent Lee controls">
        <button class="stop-btn" id="stop-btn" disabled><i class="fas fa-stop-circle"></i> Stop</button>
        <button class="finish-btn" id="finish-btn"><i class="fas fa-check-circle"></i> Finish</button>
        <button class="save-btn" id="save-btn"><i class="fas fa-save"></i> Save Contact</button>
        <button class="email-btn" id="email-btn"><i class="fas fa-envelope"></i> Email</button>
      </div>
      <div class="control-row" aria-label="Contact buttons" style="border-top:none; padding-top:0;">
        <button class="phone-btn" id="phone-btn"><i class="fas fa-phone"></i> Phone</button>
        <button class="text-btn" id="text-btn"><i class="fas fa-comment"></i> Text</button>
        <button class="nearby-btn" id="nearby-btn"><i class="fas fa-share-alt"></i> Nearby Share</button>
        <button class="nfc-btn" id="nfc-btn"><i class="fas fa-wifi"></i> NFC Tag</button>
      </div>
    </div>
  </div>

  <!-- Footer with Logo and Contact Button -->
  <div class="footer-container">
    <div class="logo-container">
      <img src="90qk3uw7cw.png" alt="The Black Book Milwaukee Logo" class="logo-img">
    </div>
    <a href="https://theblackbookmilwaukee.com" id="website-button" class="contact-button">
      <i class="fas fa-globe"></i> VISIT OUR WEBSITE
    </a>
  </div>

  <script>
    // Create background particles
    function createParticles() {
      const particlesContainer = document.getElementById('particles');
      const particleCount = 50;
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        
        // Random position, size and animation delay
        const size = Math.random() * 3 + 1;
        const posX = Math.random() * window.innerWidth;
        const posY = Math.random() * window.innerHeight;
        const delay = Math.random() * 20;
        const duration = Math.random() * 10 + 15;
        const opacity = Math.random() * 0.5 + 0.2;
        
        particle.style.width = `${size}px`;
        particle.style.height = `${size}px`;
        particle.style.left = `${posX}px`;
        particle.style.top = `${posY}px`;
        particle.style.opacity = opacity;
        particle.style.animationDuration = `${duration}s`;
        particle.style.animationDelay = `${delay}s`;
        
        particlesContainer.appendChild(particle);
      }
    }

    // Loading animation
    window.addEventListener('load', function() {
      createParticles();
      
      setTimeout(() => {
        const loadingOverlay = document.getElementById('loading-overlay');
        loadingOverlay.style.opacity = '0';
        loadingOverlay.style.transition = 'opacity 0.8s ease';
        setTimeout(() => {
          loadingOverlay.style.display = 'none';
        }, 800);
      }, 1500);
      
      // Add hover animation for business card
      const card = document.querySelector('.card-container');
      
      card.addEventListener('mousemove', (e) => {
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        
        const centerX = rect.width / 2;
        const centerY = rect.height / 2;
        
        const rotateY = ((x - centerX) / centerX) * 10;
        const rotateX = ((centerY - y) / centerY) * 10;
        
        document.querySelector('#business-card-img').style.transform = 
          `rotateY(${rotateY}deg) rotateX(${rotateX}deg)`;
      });
      
      card.addEventListener('mouseleave', () => {
        document.querySelector('#business-card-img').style.transform = 
          'rotateY(0deg) rotateX(0deg)';
      });
    });

    // Drag floating card logic
    const card = document.getElementById('agent-card');
    const handle = document.getElementById('drag-handle');
    let dragging = false, dx = 0, dy = 0;

    handle.addEventListener('mousedown', e => {
      dragging = true;
      const rect = card.getBoundingClientRect();
      dx = e.clientX - rect.left;
      dy = e.clientY - rect.top;
      handle.style.cursor = 'grabbing';
      card.classList.add('dragging');
    });
    
    document.addEventListener('mousemove', e => {
      if (!dragging) return;
      card.style.left = (e.clientX - dx) + 'px';
      card.style.top = (e.clientY - dy) + 'px';
      card.style.position = 'fixed';
    });
    
    document.addEventListener('mouseup', () => {
      dragging = false;
      handle.style.cursor = 'grab';
      card.classList.remove('dragging');
    });

    // Speech and Q&A
    const questions = document.querySelectorAll('.question-btn');

    const answers = {
      "what services does the black book milwaukee provide?":
        "We offer a comprehensive suite of services including advertising placements, graphic design with logos, business cards, flyers, web design, video production, and innovative solutions like NFC-enabled flyers and digital business cards.",
      "how can your services benefit my local business?":
        "Our services are designed to enhance your brand's visibility, attract more customers, and drive growth. By leveraging modern design and marketing strategies, we help your business stand out in the Milwaukee market.",
      "what is the typical turnaround time for a project?":
        "Project timelines vary based on complexity. For instance, a standard business card design may take 3-5 days, while a full website development could range from 2-4 weeks.",
      "how much do your services cost?":
        "Our pricing is competitive and tailored to each project's scope. For example, business card designs start at $150, and website packages begin at $1,500. We provide detailed quotes after understanding your specific needs.",
      "do you offer ongoing support after project completion?":
        "Yes, we offer maintenance and support packages to ensure your marketing materials and digital assets remain up-to-date and effective.",
      "can i see examples of your previous work?":
        "Absolutely! Visit our portfolio on our website to view a range of projects we've completed for local businesses, showcasing our design and marketing capabilities.",
      "how do nfc-enabled flyers and digital business cards work?":
        "NFC technology allows users to access your digital content instantly by tapping their smartphone on the flyer or card, providing an interactive and modern way to engage customers.",
      "is my business too small to benefit from your services?":
        "Not at all! We specialize in helping small to medium-sized businesses enhance their marketing efforts and grow their customer base through tailored solutions.",
      "how do i get started with the black book milwaukee?":
        "Simply contact us at 414-379-7258 or visit our website to schedule a consultation. We'll discuss your needs and develop a customized plan to achieve your marketing goals.",
      "what sets the black book milwaukee apart from other agencies?":
        "Our deep understanding of the Milwaukee market, combined with our commitment to innovation and personalized service, ensures that we deliver impactful marketing solutions that resonate with your target audience."
    };

    questions.forEach(btn => {
      btn.addEventListener('click', () => {
        const q = btn.getAttribute('data-question');
        // Speak answer only, no visible chat display
        const ans = answers[q.toLowerCase()] || "Sorry, I don't have an answer for that yet.";
        speak(ans);
        
        // Add active state to clicked button
        questions.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
      });
    });

    function speak(text) {
      if (!window.speechSynthesis) return;
      window.speechSynthesis.cancel();
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = 'en-US';

      // Get available voices
      let voices = window.speechSynthesis.getVoices();
      
      // If voices array is empty, try with onvoiceschanged event
      if (voices.length === 0) {
        window.speechSynthesis.onvoiceschanged = () => {
          voices = window.speechSynthesis.getVoices();
          setVoice();
        };
      } else {
        setVoice();
      }
      
      function setVoice() {
        // Try to find specific premium voices in order of preference
        const preferredVoices = [
          // Microsoft voices
          'Microsoft David', 
          'Microsoft Mark',
          'Microsoft David Desktop',
          
          // Google voices
          'Google US English',
          'Google UK English Male',
          
          // Other premium voices
          'Daniel',
          'Alex',
          'Tom',
          
          // Fallbacks - female voices
          'Samantha',
          'Microsoft Zira',
          'Google US English Female'
        ];
        
        // Find the first preferred voice that is available
        let selectedVoice = null;
        for (const voiceName of preferredVoices) {
          const voice = voices.find(v => 
            v.name.includes(voiceName) || 
            v.voiceURI.includes(voiceName)
          );
          
          if (voice) {
            selectedVoice = voice;
            break;
          }
        }
        
        // If none of the preferred voices are found, use any male English voice
        if (!selectedVoice) {
          selectedVoice = voices.find(v => 
            v.lang.startsWith('en') && 
            (v.name.toLowerCase().includes('male') || v.name.toLowerCase().includes('david'))
          );
        }
        
        // If still no voice, fall back to any English voice
        if (!selectedVoice) {
          selectedVoice = voices.find(v => v.lang.startsWith('en'));
        }
        
        // Set the selected voice
        if (selectedVoice) {
          utterance.voice = selectedVoice;
          console.log('Using voice:', selectedVoice.name);
        }
        
        // Adjust speech parameters
        utterance.rate = 1.0;
        utterance.pitch = 1.0;
        
        // Speak the text
        window.speechSynthesis.speak(utterance);
      }
    }

    // Contact buttons
    document.getElementById('email-btn').onclick = () => {
      window.location.href = 'mailto:info@blackbookmilwaukee.com';
    };
    document.getElementById('phone-btn').onclick = () => {
      // Directly initiate a phone call to the number
      window.location.href = 'tel:414-379-7258';
    };
    document.getElementById('text-btn').onclick = () => {
      // Directly open SMS with the number pre-filled
      window.location.href = 'sms:414-379-7258?body=Hello%20Black%20Book%20Milwaukee%2C%20I%20saw%20your%20digital%20business%20card.';
    };
    document.getElementById('save-btn').onclick = () => {
      const vcard = [
        'BEGIN:VCARD','VERSION:3.0',
        'FN:The Black Book Milwaukee','ORG:The Black Book Milwaukee','TITLE:Marketing & Design Agency',
        'TEL;WORK;VOICE:414-379-7258','EMAIL;WORK:info@blackbookmilwaukee.com',
        'ADR;WORK:;;Milwaukee, Wisconsin','URL:https://theblackbookmilwaukee.com','END:VCARD'
      ].join('\n');
      const blob = new Blob([vcard], {type: 'text/vcard'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'BlackBookMilwaukee.vcf'; a.click();
      URL.revokeObjectURL(url);
    };

    // Stop / Finish buttons logic
    const stopBtn = document.getElementById('stop-btn');
    const finishBtn = document.getElementById('finish-btn');
    stopBtn.onclick = () => {
      window.speechSynthesis.cancel();
      stopBtn.disabled = true;
    };
    finishBtn.onclick = () => {
      speak("Thanks for checking out The Black Book Milwaukee! I'm here if you need me.");
    };

    // Business card interactive presentation effect
    const businessCard = document.getElementById('business-card-img');
    businessCard.addEventListener('click', () => {
      businessCard.style.animation = 'presentEffect 6s ease-in-out';
      setTimeout(() => {
        businessCard.style.animation = '';
      }, 6000);
    });
    
    // Nearby Share functionality
    document.getElementById('nearby-btn').onclick = async () => {
      if (!('share' in navigator)) {
        alert('Sharing is not supported on this browser');
        return;
      }
      
      try {
        // Create vCard file for sharing
        const vcard = [
          'BEGIN:VCARD','VERSION:3.0',
          'FN:The Black Book Milwaukee','ORG:The Black Book Milwaukee','TITLE:Marketing & Design Agency',
          'TEL;WORK;VOICE:414-379-7258','EMAIL;WORK:info@blackbookmilwaukee.com',
          'ADR;WORK:;;Milwaukee, Wisconsin','URL:https://theblackbookmilwaukee.com','END:VCARD'
        ].join('\n');
        const vcardBlob = new Blob([vcard], {type: 'text/vcard'});
        const file = new File([vcardBlob], 'BlackBookMilwaukee.vcf', {type: 'text/vcard'});
        
        // Share options
        const shareData = {
          title: 'The Black Book Milwaukee - Marketing & Design',
          text: 'Connect with The Black Book Milwaukee for comprehensive marketing and design solutions.',
          url: 'https://theblackbookmilwaukee.com',
          files: [file]
        };
        
        // Check if file sharing is supported
        if (navigator.canShare && navigator.canShare(shareData)) {
          await navigator.share(shareData);
          alert('Contact shared successfully');
        } else {
          // Fallback to basic sharing without files
          await navigator.share({
            title: shareData.title,
            text: shareData.text,
            url: shareData.url
          });
          alert('Website link shared (contact sharing not supported)');
        }
      } catch (e) {
        console.error('Sharing failed:', e);
      }
    };
    
    // NFC Tag functionality
    document.getElementById('nfc-btn').onclick = () => {
      const options = [
        'https://theblackbookmilwaukee.com',
        'tel:414-379-7258',
        'mailto:info@blackbookmilwaukee.com',
        'MECARD:N:The Black Book Milwaukee;TEL:414-379-7258;EMAIL:info@blackbookmilwaukee.com;URL:https://theblackbookmilwaukee.com;'
      ];
      
      const nfcContent = options[0]; // Default to website URL
      
      // Copy to clipboard for NFC writing apps
      navigator.clipboard.writeText(nfcContent).then(() => {
        alert('NFC payload copied to clipboard! Use in your NFC writing app');
      }).catch(() => {
        alert('Failed to copy NFC payload');
      });
    };
  </script>
</body>
</html>